local PATH = "tp_idx.txt"
local Vector3 = CS.UnityEngine.Vector3

local function show(msg)
  if CS and CS.MoleMole and CS.MoleMole.ActorUtils and CS.MoleMole.ActorUtils.ShowMessage then
    CS.MoleMole.ActorUtils.ShowMessage(tostring(msg))
  else
    print(tostring(msg))
  end
end
local W = {
  {name = "shady1", x = -3597.741211, y = 219.779129, z = -1709.213379},
  {name = "shady2", x = -4001.861328, y = 252.705780, z = -2185.423828},
  {name = "shady3", x = -4046.031738, y = 211.908508, z = -2187.933105},
  {name = "shady4", x = -3635.974609, y = 277.815521, z = -2342.848145},
  {name = "shady5", x = -3818.410156, y = 239.352646, z = -2372.410889},
  {name = "shady6", x = -3654.749268, y = 237.854233, z = -2379.422607},
  {name = "shady7", x = -3943.408691, y = 199.917084, z = -2420.978271},
  {name = "shady8", x = -3886.273682, y = 207.038177, z = -2555.072266},
  {name = "shady9", x = -3846.149902, y = 245.934174, z = -2530.001709},
  {name = "shady10", x = -3970.175781, y = 273.527466, z = -2471.145508},
  {name = "shady11", x = -3910.388672, y = 275.709198, z = -2260.406494},
  {name = "shady12", x = -3446.483887, y = 208.966278, z = -2763.606445},
  {name = "shady13", x = -3896.993896, y = 266.459381, z = -2243.440430},
  {name = "shady14", x = -3914.324463, y = 200.901962, z = -2253.679443},
  {name = "shady15", x = -3590.535156, y = 226.748093, z = -1960.696899},
  {name = "shady16", x = -3567.796875, y = 252.854660, z = -2130.303711},
  {name = "shady17", x = -3434.976318, y = 234.195190, z = -2636.581299},
  {name = "shady18", x = -3500.729736, y = 209.233078, z = -2640.114502},
  {name = "shady19", x = -3600.178711, y = 207.590851, z = -2399.511719},
  {name = "shady20", x = -3720.679443, y = 225.601288, z = -2094.180176},
  {name = "shady21", x = -3691.711182, y = 237.145996, z = -2262.965088},
  {name = "shady22", x = -3792.514160, y = 247.165161, z = -2267.541260},
  {name = "shady23", x = -3738.659668, y = 236.961929, z = -2205.777588},
  {name = "shady24", x = -2787.261230, y = 192.574432, z = -4067.232178},
  {name = "shady25", x = -2256.213135, y = 137.884964, z = -4886.728516},
  {name = "shady26", x = -2358.122314, y = 200.719070, z = -4745.415527},
  {name = "shady27", x = -2471.336182, y = 227.557068, z = -4110.042969},
  {name = "shady28", x = -1867.232178, y = 223.687347, z = -4188.705078},
  {name = "shady29", x = -2187.323730, y = 229.493408, z = -4264.270508},
  {name = "shady30", x = -2933.784424, y = 200.901932, z = -4306.349609},
  {name = "shady31", x = -2824.939941, y = 202.017029, z = -4338.780273},
  {name = "shady32", x = -3018.176270, y = 212.052399, z = -4504.354492},
  {name = "shady33", x = -2347.934082, y = 206.040894, z = -4223.433105},
  {name = "shady34", x = -2292.664307, y = 211.838623, z = -4286.255371},
  {name = "shady35", x = -2600.646973, y = 208.488678, z = -4116.541992},
  {name = "shady36", x = -2964.589600, y = 206.042877, z = -4069.295898},
  {name = "shady37", x = -2642.253906, y = 213.377106, z = -4228.089844},
  {name = "shady38", x = -2874.347168, y = 203.643356, z = -4176.333984},
  {name = "shady39", x = -2792.500977, y = 226.335739, z = -4456.016113},
  {name = "shady40", x = -2789.983154, y = 218.796051, z = -4258.092285},
  {name = "shady41", x = -2447.864502, y = 201.472687, z = -4600.291992},
  {name = "shady42", x = -6238.138672, y = 200.993210, z = -3015.351807},
  {name = "shady43", x = -6174.999023, y = 209.351822, z = -2983.705322},
  {name = "shady44", x = -6123.310547, y = 201.574097, z = -2979.947266},
  {name = "shady45", x = -6167.117676, y = 201.203720, z = -3052.030762},
  {name = "shady46", x = -6429.562012, y = 239.075760, z = -2810.109863},
  {name = "shady47", x = -5963.195312, y = 203.586609, z = -2645.068604},
  {name = "shady48", x = -6357.522461, y = 208.332428, z = -2699.529297},
  {name = "shady49", x = -2851.983154, y = 208.784500, z = -4095.854004},
  {name = "shady50", x = -3561.923096, y = 216.032928, z = -651.813416},
  {name = "shady51", x = -3551.801025, y = 204.547424, z = -529.379517},
  {name = "shady52", x = -3639.737305, y = 202.659943, z = -589.193848},
  {name = "shady53", x = -4293.184082, y = 203.623856, z = -3806.641113},
  {name = "shady54", x = -4387.975098, y = 234.199371, z = -3856.701660},
  {name = "shady55", x = -4389.606445, y = 217.474854, z = -3923.791016},
  {name = "shady56", x = -4485.069824, y = 220.026947, z = -3876.559570},
  {name = "shady57", x = -4575.590332, y = 214.963669, z = -3793.386230},
  {name = "shady58", x = -4685.085938, y = 206.272125, z = -3734.905273},
  {name = "shady59", x = -4262.779785, y = 204.457138, z = -4176.277344},
  {name = "shady60", x = -2789.238281, y = 219.122040, z = -4259.235840},
  {name = "shady61", x = -4323.180176, y = 208.670547, z = -4019.991211},
  {name = "shady62", x = -4303.451660, y = 203.288651, z = -4209.019531},
  {name = "shady63", x = -4349.106445, y = 240.129715, z = -4194.955566},
  {name = "shady64", x = -4460.243164, y = 201.148834, z = -4305.967773},
  {name = "shady65", x = -4137.346680, y = 202.663544, z = -4314.978516},
  {name = "shady66", x = -4814.324707, y = 224.883469, z = -4806.494629},
  {name = "shady67", x = -4810.029297, y = 248.782333, z = -4665.890625},
  {name = "shady68", x = -4979.485840, y = 204.647614, z = -4344.866211},
  {name = "shady69", x = -5009.630371, y = 268.511078, z = -4250.479980},
  {name = "shady70", x = -4783.781738, y = 275.350830, z = -4023.354492},
  {name = "shady71", x = -2821.981201, y = 220.950653, z = -4370.824707},
  {name = "shady72", x = -4947.882324, y = 201.138748, z = -3930.975342},
  {name = "shady73", x = -4664.928711, y = 202.704102, z = -4066.584717},
  {name = "shady74", x = -4788.011719, y = 201.203339, z = -4071.400635},
  {name = "shady75", x = -3969.753418, y = 273.611511, z = -2473.184082},
  {name = "shady76", x = -3945.278320, y = 199.655716, z = -2421.133789},
  {name = "shady77", x = -3717.019775, y = 267.997925, z = -2383.520020},
  {name = "shady78", x = -2794.483643, y = 231.048584, z = -4489.257324},
  {name = "shady79", x = -2731.145508, y = 238.438232, z = -4521.930176},
  {name = "shady80", x = -2603.363525, y = 214.839188, z = -4123.922852},
  {name = "shady81", x = -2570.093994, y = 218.145279, z = -4131.639648},
  {name = "shady82", x = -2642.238281, y = 213.470947, z = -4227.874512},
  {name = "shady83", x = -2599.514160, y = 230.131683, z = -4324.580078},
  {name = "shady84", x = -2185.946777, y = 229.622528, z = -4263.962891},
  {name = "shady85", x = -1957.998291, y = 200.512283, z = -4266.552246},
  {name = "shady86", x = -2446.387207, y = 201.681808, z = -4604.162598},
  {name = "shady87", x = -2353.462402, y = 203.749344, z = -4508.223145},
  {name = "shady88", x = -2357.451172, y = 201.102005, z = -4745.726562},
  {name = "shady89", x = -2244.813721, y = 200.354767, z = -4825.608398},
  {name = "shady90", x = -2503.000977, y = 311.362183, z = -4495.806152},
  {name = "shady91", x = -2444.798828, y = 316.416260, z = -4422.850098},
  {name = "shady92", x = -2964.300537, y = 205.925842, z = -4069.160889},
  {name = "shady93", x = -3023.105225, y = 202.083405, z = -4021.828369},
  {name = "shady94", x = -3186.110596, y = 203.494095, z = -3921.784424},
  {name = "shady95", x = -3240.987793, y = 203.787903, z = -3883.673828},
  {name = "shady96", x = -3268.695068, y = 213.902069, z = -3929.539307},
  {name = "shady97", x = -3242.306885, y = 202.537674, z = -3965.532959},
  {name = "shady98", x = -3224.149902, y = 211.167648, z = -3977.814209},
  {name = "shady99", x = -3236.205322, y = 217.738953, z = -3942.255859},
  {name = "shady100", x = -3217.388916, y = 218.998611, z = -3938.605957},
  {name = "shady101", x = -3196.001709, y = 225.593369, z = -3955.617188},
  {name = "shady102", x = -3309.978516, y = 202.847946, z = -3215.707520},
  {name = "shady103", x = -3297.043945, y = 225.274292, z = -3265.560303},
  {name = "shady104", x = -3379.112793, y = 211.686752, z = -3654.850830},
  {name = "shady105", x = -3292.229736, y = 206.103165, z = -3591.036133},
  {name = "shady106", x = -3588.932373, y = 199.680359, z = -3595.798096},
  {name = "shady107", x = -3584.852539, y = 201.009613, z = -3637.022949},
  {name = "shady108", x = -3478.338135, y = 202.565460, z = -3242.661865},
  {name = "shady109", x = -3508.187500, y = 203.113190, z = -3210.732910},
  {name = "shady110", x = -3709.680176, y = 201.966873, z = -3335.859131},
  {name = "shady111", x = -3735.254639, y = 202.157272, z = -3359.156982},
  {name = "shady112", x = -3651.601807, y = 235.941666, z = -3191.070801},
  {name = "shady113", x = -3686.912598, y = 263.017487, z = -3148.516846},
  {name = "shady114", x = -3720.520264, y = 251.214401, z = -3111.142334},
  {name = "shady115", x = -2468.928467, y = 227.508850, z = -4107.991699},
  {name = "shady116", x = -3722.547119, y = 271.124573, z = -3170.817871},
  {name = "shady117", x = -3818.858154, y = 232.179184, z = -3165.920410},
  {name = "shady118", x = -3830.178955, y = 234.164459, z = -3155.054932},
  {name = "shady119", x = -3949.220703, y = 202.191925, z = -3086.637939},
  {name = "shady120", x = -3906.043945, y = 234.463531, z = -3104.525635},
  {name = "shady121", x = -3993.766602, y = 213.600662, z = -2912.140381},
  {name = "shady122", x = -4124.321289, y = 202.865448, z = -2959.806152},
  {name = "shady123", x = -4109.982910, y = 242.434052, z = -3059.427734},
  {name = "shady124", x = -4095.518066, y = 207.987198, z = -3140.758789},
  {name = "shady125", x = -3755.408203, y = 204.025940, z = -2965.232178},
  {name = "shady126", x = -2474.291992, y = 224.977142, z = -4152.153809},
  {name = "shady127", x = -3847.483887, y = 235.739563, z = -3011.222900},
  {name = "shady128", x = -3875.062500, y = 247.308762, z = -3024.213623},
  {name = "shady129", x = -3874.132080, y = 202.852524, z = -3292.395508},
  {name = "shady130", x = -3951.861084, y = 207.875534, z = -3271.180908},
  {name = "shady131", x = -3600.432861, y = 207.793655, z = -2397.929199},
  {name = "shady132", x = -3598.085693, y = 206.231445, z = -2290.927002},
  {name = "shady133", x = -3622.346191, y = 213.288757, z = -2250.488770},
  {name = "shady134", x = -3567.486328, y = 252.914551, z = -2130.718750},
  {name = "shady135", x = -3591.229004, y = 250.970901, z = -2235.970703},
  {name = "shady136", x = -3590.012207, y = 226.693283, z = -1960.541260},
  {name = "shady137", x = -2792.686523, y = 192.530426, z = -4067.760986},
  {name = "shady138", x = -3523.050537, y = 201.790817, z = -2026.833008},
  {name = "shady139", x = -3720.783691, y = 225.355865, z = -2094.308105},
  {name = "shady140", x = -3657.807129, y = 226.646271, z = -2199.999023},
  {name = "shady141", x = -3625.830322, y = 219.382355, z = -2310.525391},
  {name = "shady142", x = -3606.541992, y = 219.519882, z = -2361.862305},
  {name = "shady143", x = -3797.052002, y = 248.015945, z = -2266.927734},
  {name = "shady144", x = -3845.896973, y = 246.091217, z = -2529.866455},
  {name = "shady145", x = -3841.499512, y = 229.335815, z = -2549.382812},
  {name = "shady146", x = -3886.372803, y = 206.880814, z = -2555.120605},
  {name = "shady147", x = -3990.785889, y = 244.949799, z = -2528.845703},
  {name = "shady148", x = -2794.813232, y = 181.253952, z = -4085.322510},
  {name = "shady149", x = -3962.822998, y = 231.196533, z = -2498.967041},
  {name = "shady150", x = -3895.670898, y = 266.141937, z = -2244.128418},
  {name = "shady151", x = -3994.157227, y = 202.516373, z = -2283.020996},
  {name = "shady152", x = -4014.036865, y = 224.748825, z = -2314.254883},
  {name = "shady153", x = -4043.821045, y = 211.583359, z = -2187.565674},
  {name = "shady154", x = -4089.234863, y = 215.622284, z = -2247.132324},
  {name = "shady155", x = -3597.369141, y = 219.535736, z = -1708.741089},
  {name = "shady156", x = -3655.795898, y = 202.549759, z = -1611.499146},
  {name = "shady157", x = -4034.256348, y = 213.945190, z = -1254.887817},
  {name = "shady158", x = -3978.950195, y = 200.777939, z = -1165.619629},
  {name = "shady159", x = -2875.700439, y = 204.030975, z = -4175.634766},
  {name = "shady160", x = -3541.783691, y = 177.462067, z = -1190.720703},
  {name = "shady161", x = -3935.772461, y = 168.197311, z = -705.895325},
  {name = "shady162", x = -3828.344727, y = 120.835228, z = -643.549255},
  {name = "shady163", x = -3778.234863, y = 132.592392, z = -672.940002},
  {name = "shady164", x = -3655.282471, y = 122.726311, z = -757.521606},
  {name = "shady165", x = -3722.465332, y = 113.687920, z = -857.128662},
  {name = "shady166", x = -3826.665771, y = 108.703430, z = -884.579285},
  {name = "shady167", x = -3858.467041, y = 111.301025, z = -775.064026},
  {name = "shady168", x = -3995.325928, y = 214.548309, z = -722.121948},
  {name = "shady169", x = -4009.926025, y = 227.203842, z = -646.929810},
  {name = "shady170", x = -5990.877930, y = 175.309982, z = -2694.990967},
  {name = "shady171", x = -5996.823730, y = 257.846832, z = -2592.578369},
  {name = "shady172", x = -6249.408203, y = 245.801865, z = -2956.907715},
  {name = "shady173", x = -6271.507324, y = 364.570953, z = -2685.676025},
  {name = "shady174", x = -6238.080566, y = 210.452072, z = -3217.483154},
  {name = "shady175", x = -6193.963379, y = 203.319000, z = -2723.266846},
  {name = "shady176", x = -6366.612305, y = 205.643845, z = -2376.880371},
  {name = "shady177", x = -1867.798828, y = 223.650406, z = -4187.920898},
  {name = "shady178", x = -1850.032227, y = 211.666885, z = -4185.378418},
  {name = "shady179", x = -1899.108765, y = 201.296585, z = -4285.928711},
  {name = "shady180", x = -1830.839844, y = 200.894867, z = -4294.493164},
}
local function read_idx()
  local f = io.open(PATH, "r")
  if f then
    local s = f:read("*l")
    f:close()
    local n = tonumber(s)
    if n and n >= 1 and n <= #W then return n end
  end
  return 1
end


local function write_idx(n)
  local f = io.open(PATH, "w")
  if f then f:write(tostring(n)); f:close() end
end


local idx = read_idx()
local wp  = W[idx]


local pos = Vector3(wp.x, wp.y, wp.z)
CS.MoleMole.ActorUtils.SetAvatarPos(pos)
show(string.format("TP %d/%d: %s (X:%.2f Y:%.2f Z:%.2f) [next-> %d]",
  idx, #W, wp.name, wp.x, wp.y, wp.z, (idx % #W) + 1))

idx = idx + 1
if idx > #W then idx = 1 end
write_idx(idx)