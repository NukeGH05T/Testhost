-- STEP TELEPORT (файловый счётчик) — 1 клик = следующий поинт

-- === ФАЙЛ СЧЁТЧИКА (в той же папке, что и lua) ===
local PATH = "tp_idx.txt"

-- Полезные алиасы
local Vector3 = CS.UnityEngine.Vector3

local function show(msg)
  if CS and CS.MoleMole and CS.MoleMole.ActorUtils and CS.MoleMole.ActorUtils.ShowMessage then
    CS.MoleMole.ActorUtils.ShowMessage(tostring(msg))
  else
    print(tostring(msg))
  end
end

-- === СПИСОК ГЕОКУЛОВ ===
local W = {
  {name="elite_100", x=1647.4622802734375, y=268.1939697265625, z=-964.6107177734375},
  {name="elite_101", x=1424.9310302734375, y=269.9389953613281, z=-1116.948974609375},
  {name="elite_102", x=1426.7020263671875, y=315.3210144042969, z=-1217.9100341796875},
  {name="elite_103", x=1362.5350341796875, y=291.5870056152344, z=-1369.573974609375},
  {name="elite_104", x=1601.48095703125, y=290.8500061035156, z=-1243.8900146484375},
  {name="elite_105", x=1314.0689697265625, y=298.0920104980469, z=-1055.39794921875},
  {name="elite_106", x=1346.449951171875, y=294.3160095214844, z=-993.0009765625},
  {name="elite_107", x=1267.2130126953125, y=345.1189880371094, z=-791.906005859375},
  {name="elite_108", x=1093.125, y=411.4159851074219, z=-701.718994140625},
  {name="elite_109", x=1019.6719970703125, y=353.93499755859375, z=-648.5980224609375},
  {name="elite_110", x=986.4609985351562, y=274.197998046875, z=-389.197998046875},
  {name="elite_111", x=952.7186279296875, y=274.9319763183594, z=-235.10118103027344},
  {name="elite_112", x=894.2000122070312, y=256.7539978027344, z=-254.34300231933594},
  {name="elite_113", x=1069.0849609375, y=210.32400512695312, z=-71.1449966430664},
  {name="elite_114", x=1336.5279541015625, y=203.39500427246094, z=-137.6280059814453},
  {name="elite_115", x=1441.85498046875, y=217.0, z=58.84199905395508},
  {name="elite_116", x=1546.4820556640625, y=225.14100646972656, z=28.44099998474121},
  {name="elite_117", x=1608.1419677734375, y=203.14700317382812, z=313.0690002441406},
  {name="elite_118", x=1569.7760009765625, y=245.76199340820312, z=467.35101318359375},
  {name="elite_119", x=1121.6610107421875, y=220.70799255371094, z=1046.9410400390625},
  {name="elite_120", x=1018.3350219726562, y=298.1520080566406, z=1117.041015625},
  {name="elite_121", x=895.2379760742188, y=297.6990051269531, z=1117.91796875},
  {name="elite_122", x=778.625, y=257.35198974609375, z=957.5869750976562},
  {name="elite_123", x=874.4580078125, y=241.8040008544922, z=855.3579711914062},
  {name="elite_124", x=986.0339965820312, y=242.63600158691406, z=920.0360107421875},
  {name="elite_125", x=675.8579711914062, y=243.03700256347656, z=791.6610107421875},
  {name="elite_126", x=531.114013671875, y=203.0, z=790.8820190429688},
  {name="elite_127", x=363.13800048828125, y=238.74200439453125, z=1011.6380004882812},
  {name="elite_128", x=340.9949951171875, y=263.052001953125, z=1097.9239501953125},
  {name="elite_129", x=295.2909851074219, y=257.6940002441406, z=1164.4830322265625},
  {name="elite_130", x=233.38600158691406, y=205.78500366210938, z=1259.512939453125},
  {name="elite_131", x=56.1619987487793, y=192.89300537109375, z=1315.780029296875},
  {name="elite_132", x=-157.4148406982422, y=232.9390869140625, z=1245.0130615234375},
  {name="elite_133", x=-198.86000061035156, y=243.53700256347656, z=1248.18994140625},
  {name="elite_134", x=-259.343994140625, y=227.0260009765625, z=1193.4539794921875},
  {name="elite_135", x=-340.2090148925781, y=226.06700134277344, z=1157.302001953125},
  {name="elite_136", x=-319.15301513671875, y=214.61099243164062, z=1113.7430419921875},
  {name="elite_137", x=-472.3210144042969, y=199.5570068359375, z=1080.198974609375},
  {name="elite_138", x=-469.55120849609375, y=223.469970703125, z=1039.2672119140625},
  {name="elite_139", x=-488.24798583984375, y=184.4499969482422, z=927.1740112304688},
  {name="elite_140", x=-498.37298583984375, y=189.2239990234375, z=881.1929931640625},
  {name="elite_141", x=-649.2100219726562, y=148.8699951171875, z=883.093017578125},
  {name="elite_142", x=-632.5679931640625, y=227.83200073242188, z=960.6110229492188},
  {name="elite_143", x=-787.8839721679688, y=173.322998046875, z=782.7050170898438},
  {name="elite_144", x=-889.0390014648438, y=174.91099548339844, z=881.9099731445312},
  {name="elite_145", x=-862.4130249023438, y=163.86199951171875, z=1284.032958984375},
  {name="elite_146", x=-1006.2059936523438, y=300.4779968261719, z=1633.2779541015625},
  {name="elite_147", x=-883.0130004882812, y=139.23399353027344, z=1854.83203125},
  {name="elite_148", x=-685.698974609375, y=101.72100067138672, z=1719.18603515625},
  {name="elite_149", x=-549.7650146484375, y=143.41700744628906, z=1776.8709716796875},
  {name="elite_150", x=-491.64898681640625, y=298.8340148925781, z=2173.531005859375},
  {name="elite_151", x=-156.08999633789062, y=307.1449890136719, z=2176.333984375},
  {name="elite_152", x=69.32499694824219, y=254.27099609375, z=2266.048095703125},
  {name="elite_153", x=105.60343933105469, y=282.6789245605469, z=2386.9765625},
  {name="elite_154", x=245.18800354003906, y=246.48399353027344, z=2340.426025390625},
  {name="elite_155", x=234.65699768066406, y=310.67401123046875, z=2124.375},
  {name="elite_156", x=399.1189880371094, y=324.3110046386719, z=2011.4859619140625},
  {name="elite_157", x=405.3940124511719, y=300.1340026855469, z=1832.6710205078125},
  {name="elite_158", x=597.302978515625, y=364.343994140625, z=1854.4239501953125},
  {name="elite_159", x=700.9929809570312, y=322.4840087890625, z=1767.720947265625},
  {name="elite_160", x=821.3250122070312, y=234.14300537109375, z=1781.2840576171875},
  {name="elite_161", x=1104.81103515625, y=233.6999969482422, z=1629.1490478515625},
  {name="elite_162", x=1282.7919921875, y=281.9729919433594, z=1566.68994140625},
  {name="elite_163", x=1157.43603515625, y=326.00799560546875, z=1446.2030029296875},
  {name="elite_164", x=1600.302978515625, y=228.33700561523438, z=1249.927978515625},
  {name="elite_165", x=495.2229919433594, y=240.60400390625, z=1152.1939697265625},
  {name="elite_166", x=489.2749938964844, y=250.0760040283203, z=1202.43603515625},
  {name="elite_167", x=434.72198486328125, y=250.08399963378906, z=1094.39697265625},
  {name="elite_168", x=137.94500732421875, y=232.67999267578125, z=1077.68896484375},
  {name="elite_169", x=-124.39671325683594, y=184.0623779296875, z=912.066650390625},
  {name="elite_170", x=-171.031005859375, y=166.63999938964844, z=903.458984375},
  {name="elite_171", x=-102.5770034790039, y=293.5270080566406, z=592.0},
  {name="elite_172", x=206.64230346679688, y=203.16360473632812, z=509.1549987792969},
  {name="elite_173", x=234.6060028076172, y=209.00900268554688, z=458.2430114746094},
  {name="elite_174", x=525.8170166015625, y=197.99000549316406, z=233.17599487304688},
  {name="elite_175", x=490.3659973144531, y=202.89999389648438, z=-189.43800354003906},
  {name="elite_176", x=470.9288635253906, y=201.74795532226562, z=-324.27191162109375},
  {name="elite_177", x=413.49200439453125, y=203.73500061035156, z=-439.0090026855469},
  {name="elite_178", x=592.35302734375, y=202.89999389648438, z=-547.4650268554688},
  {name="elite_179", x=631.9650268554688, y=225.01300048828125, z=-484.4079895019531},
  {name="elite_180", x=620.666015625, y=204.5780029296875, z=-895.114990234375},
  {name="elite_181", x=814.6010131835938, y=291.1809997558594, z=-923.6510009765625},
  {name="elite_182", x=895.8259887695312, y=205.17599487304688, z=-1133.0050048828125},
  {name="elite_183", x=878.5800170898438, y=205.2169952392578, z=-1221.218994140625},
  {name="elite_184", x=535.6909790039062, y=203.77699279785156, z=-1201.6920166015625},
  {name="elite_185", x=-183.98399353027344, y=203.40699768066406, z=-1000.739990234375},
  {name="elite_186", x=-255.06199645996094, y=272.69000244140625, z=-986.6090087890625},
  {name="elite_187", x=-243.45599365234375, y=203.52499389648438, z=-894.322021484375},
  {name="elite_188", x=-326.4159851074219, y=203.3350067138672, z=-718.7020263671875},
  {name="elite_189", x=-358.8699951171875, y=204.18499755859375, z=-694.56201171875},
  {name="elite_190", x=-158.75689697265625, y=203.2078857421875, z=-463.5308837890625},
  {name="elite_191", x=-111.48699951171875, y=255.16799926757812, z=-68.84700012207031},
  {name="elite_192", x=-61.65399932861328, y=271.3290100097656, z=84.51100158691406},
  {name="elite_193", x=109.2020034790039, y=207.33099365234375, z=-9.322999954223633},
  {name="elite_194", x=333.0539855957031, y=202.89999389648438, z=-176.4720001220703},
  {name="elite_195", x=-475.3800048828125, y=421.4540100097656, z=595.4749755859375},
  {name="elite_196", x=-455.4259948730469, y=211.3990020751953, z=1240.0389404296875},
  {name="elite_197", x=-168.87899780273438, y=281.27899169921875, z=1423.7750244140625},
  {name="elite_198", x=153.32200622558594, y=276.22198486328125, z=1673.43505859375},
  {name="elite_199", x=269.7640075683594, y=238.37399291992188, z=1691.887939453125},
  {name="elite_200", x=288.1629943847656, y=233.6999969482422, z=1629.3480224609375},
  {name="elite_201", x=395.31500244140625, y=284.31298828125, z=1601.1910400390625},
  {name="elite_202", x=489.93499755859375, y=302.77398681640625, z=1630.6190185546875},
  {name="elite_203", x=345.33599853515625, y=286.8710021972656, z=1461.342041015625},
  {name="elite_204", x=-46.46200180053711, y=275.7279968261719, z=2720.531005859375},
  {name="elite_205", x=-87.95999908447266, y=291.40899658203125, z=2763.66796875},
  {name="elite_206", x=93.42900085449219, y=249.7480010986328, z=2850.553955078125},
  {name="elite_207", x=179.06300354003906, y=108.64600372314453, z=2894.80908203125},
  {name="elite_208", x=206.64999389648438, y=108.33799743652344, z=2837.613037109375},
  {name="elite_209", x=-527.4749755859375, y=237.63900756835938, z=3239.512939453125},
  {name="elite_210", x=-670.02001953125, y=229.40899658203125, z=3345.094970703125},
  {name="elite_211", x=-819.8040161132812, y=139.51199340820312, z=3389.364990234375},
  {name="elite_212", x=-829.68798828125, y=33.01599884033203, z=3334.985107421875},
  {name="elite_213", x=-862.469970703125, y=17.139999389648438, z=3211.430908203125},
  {name="elite_214", x=-825.77197265625, y=219.8179931640625, z=3189.79296875},
  {name="elite_215", x=-705.2100219726562, y=234.781005859375, z=3154.7470703125},
  {name="elite_216", x=-635.5349731445312, y=228.88400268554688, z=3029.85400390625},
  {name="elite_217", x=-952.9450073242188, y=249.00399780273438, z=3056.51904296875},
  {name="elite_218", x=-1012.3089599609375, y=271.9040832519531, z=2944.985595703125},
  {name="elite_219", x=-1101.9110107421875, y=231.62100219726562, z=2879.572021484375},
  {name="elite_220", x=-1218.464599609375, y=220.4843292236328, z=3078.208984375},
  {name="elite_221", x=-1193.1090087890625, y=236.50999450683594, z=3141.02001953125},
  {name="elite_222", x=-1297.053955078125, y=188.9969940185547, z=3296.4150390625},
  {name="elite_223", x=-1517.6689453125, y=187.36199951171875, z=3314.256103515625},
  {name="elite_224", x=-1504.719970703125, y=224.60800170898438, z=3115.05810546875},
  {name="elite_225", x=-1347.343017578125, y=258.9649963378906, z=2950.137939453125},
  {name="elite_226", x=-1328.093994140625, y=282.50799560546875, z=2762.52587890625},
  {name="elite_227", x=-1403.8699951171875, y=262.4339904785156, z=2619.19189453125},
  {name="elite_228", x=-1469.9329833984375, y=185.2830047607422, z=2451.37890625},
  {name="elite_229", x=-1456.83203125, y=107.31099700927734, z=2400.8349609375},
  {name="elite_232", x=-1479.5560302734375, y=203.55999755859375, z=2285.412109375},
  {name="elite_230", x=-1556.9329833984375, y=222.62100219726562, z=2432.73388671875},
  {name="elite_231", x=-1599.9449462890625, y=345.6090087890625, z=2315.9951171875},
  {name="elite_234", x=-1812.4200439453125, y=321.51300048828125, z=2312.52490234375},
  {name="elite_233", x=-1538.0185546875, y=371.9861755371094, z=2065.036376953125},
  {name="elite_235", x=-1041.5799560546875, y=179.9770050048828, z=2172.341064453125},
  {name="elite_236", x=-1645.1669921875, y=199.03799438476562, z=3475.39794921875},
  {name="elite_238", x=-1735.925048828125, y=205.71400451660156, z=3527.5419921875},
  {name="elite_237", x=-1671.823974609375, y=296.09600830078125, z=3559.656005859375},
  {name="elite_243", x=-1675.541015625, y=311.35198974609375, z=3648.865966796875},
  {name="elite_242", x=-1720.5369873046875, y=348.489990234375, z=3643.06298828125},
  {name="elite_240", x=-1762.9580078125, y=348.5480041503906, z=3619.91796875},
  {name="elite_241", x=-1775.9630126953125, y=315.1369934082031, z=3656.696044921875},
  {name="elite_245", x=-1812.258056640625, y=323.5050048828125, z=3706.173095703125},
  {name="elite_244", x=-1713.1669921875, y=357.1289978027344, z=3764.614013671875},
  {name="elite_239", x=-1772.5050048828125, y=339.1839904785156, z=3558.412109375},
  {name="elite_247", x=-1840.0810546875, y=95.4469985961914, z=3450.18798828125},
  {name="elite_246", x=-2017.4599609375, y=492.3699951171875, z=3600.544921875},
  {name="elite_248", x=-1769.4610595703125, y=423.0249938964844, z=4276.87890625},
  {name="elite_323", x=-1692.0069580078125, y=226.2790069580078, z=4543.341796875},
  {name="elite_252", x=-1478.375, y=66.74500274658203, z=4609.296875},
  {name="elite_253", x=-1450.031005859375, y=71.65899658203125, z=4547.7099609375},
  {name="elite_254", x=-1382.842041015625, y=54.696998596191406, z=4507.85498046875},
  {name="elite_257", x=-1351.3170166015625, y=69.66200256347656, z=4580.6630859375},
  {name="elite_255", x=-1402.7939453125, y=-31.70400047302246, z=4440.7109375},
  {name="elite_250", x=-1519.916015625, y=-50.29999923706055, z=4508.4267578125},
  {name="elite_251", x=-1561.2559814453125, y=-32.698001861572266, z=4545.8671875},
  {name="elite_249", x=-1537.3299560546875, y=41.88199996948242, z=4405.0068359375},
  {name="elite_256", x=-1345.593017578125, y=149.46200561523438, z=4363.625},
  {name="elite_350", x=-1087.8663330078125, y=28.90492820739746, z=4457.8857421875},
  {name="elite_326", x=-998.3333129882812, y=37.29450988769531, z=4655.48876953125},
  {name="elite_327", x=-833.8807983398438, y=-12.85168743133545, z=4704.6728515625},
  {name="elite_328", x=-841.2459106445312, y=-31.257186889648438, z=4520.11279296875},
  {name="elite_329", x=-802.3768310546875, y=-87.1209716796875, z=4470.2900390625},
  {name="elite_330", x=-762.092041015625, y=-126.04911041259766, z=4450.02978515625},
  {name="elite_331", x=-734.8478393554688, y=132.80445861816406, z=4209.22802734375},
  {name="elite_332", x=-619.6589965820312, y=137.99099731445312, z=3963.051025390625},
  {name="elite_333", x=-685.926025390625, y=137.9010009765625, z=3896.509033203125},
  {name="elite_334", x=-483.92999267578125, y=228.63699340820312, z=4002.81689453125},
  {name="elite_335", x=-382.4909973144531, y=129.3090057373047, z=3948.882080078125},
  {name="elite_336", x=-278.5710144042969, y=109.93000030517578, z=3952.027099609375},
  {name="elite_337", x=-265.4020080566406, y=247.8990020751953, z=3903.943115234375},
  {name="elite_338", x=-161.14328002929688, y=220.75143432617188, z=3985.594970703125},
  {name="elite_339", x=-109.71580505371094, y=328.87152099609375, z=4246.927734375},
  {name="elite_340", x=-124.00314331054688, y=258.4774475097656, z=4330.22021484375},
  {name="elite_341", x=-170.65548706054688, y=250.32684326171875, z=4356.1962890625},
  {name="elite_342", x=-287.8851318359375, y=-71.9932632446289, z=4765.26953125},
  {name="elite_343", x=-193.79006958007812, y=0.43293511867523193, z=4874.15185546875},
  {name="elite_344", x=-172.20977783203125, y=48.1768798828125, z=5252.33837890625},
  {name="elite_345", x=-585.5625, y=245.86172485351562, z=5072.5693359375},
  {name="elite_346", x=-1161.802734375, y=103.67640686035156, z=5055.8603515625},
  {name="elite_324", x=-1240.032958984375, y=128.19461059570312, z=4741.34423828125},
  {name="elite_325", x=-1153.4635009765625, y=123.58628845214844, z=4705.6943359375},
  {name="elite_260", x=-1430.4720458984375, y=77.052001953125, z=4824.1318359375},
  {name="elite_259", x=-1440.113037109375, y=16.423999786376953, z=4749.83203125},
  {name="elite_258", x=-1457.333984375, y=4.538000106811523, z=4714.7998046875},
  {name="elite_261", x=-1581.89697265625, y=130.46400451660156, z=4871.19091796875},
  {name="elite_262", x=-1855.7490234375, y=135.67999267578125, z=4917.27587890625},
  {name="elite_263", x=-1953.1429443359375, y=205.33799743652344, z=4664.94482421875},
  {name="elite_264", x=-2197.4560546875, y=209.37899780273438, z=4674.0751953125},
  {name="elite_265", x=-2305.364013671875, y=122.70800018310547, z=4818.81005859375},
  {name="elite_266", x=-2298.176025390625, y=121.97200012207031, z=5049.18798828125},
  {name="elite_267", x=-2408.93994140625, y=121.97200012207031, z=5049.18798828125},
  {name="elite_268", x=-2491.62109375, y=134.47999572753906, z=4964.88818359375},
  {name="elite_269", x=-2608.1298828125, y=143.14100646972656, z=5064.40380859375},
  {name="elite_270", x=-2511.114013671875, y=144.07000732421875, z=5174.97998046875},
  {name="elite_271", x=-2527.7099609375, y=150.60699462890625, z=5251.5849609375},
  {name="elite_272", x=-2415.423095703125, y=176.802001953125, z=5320.14892578125},
  {name="elite_321", x=-2394.77099609375, y=147.79200744628906, z=5231.123046875},
  {name="elite_320", x=-2303.85498046875, y=165.281005859375, z=5234.990234375},
  {name="elite_319", x=-2284.162109375, y=178.31399536132812, z=5305.94677734375},
  {name="elite_275", x=-2349.285888671875, y=187.33299255371094, z=5432.6767578125},
  {name="elite_276", x=-2399.20703125, y=194.6219940185547, z=5513.3837890625},
  {name="elite_277", x=-2356.5458984375, y=145.5919952392578, z=5535.06787109375},
  {name="elite_279", x=-2275.385009765625, y=2.371999979019165, z=5568.60302734375},
  {name="elite_280", x=-2223.35595703125, y=5.291999816894531, z=5568.5361328125},
  {name="elite_281", x=-2175.95703125, y=11.302000045776367, z=5585.48681640625},
  {name="elite_282", x=-2178.68408203125, y=35.290000915527344, z=5537.14990234375},
  {name="elite_283", x=-2084.007080078125, y=-23.277000427246094, z=5611.68896484375},
  {name="elite_285", x=-2114.681884765625, y=-53.39799880981445, z=5739.34521484375},
  {name="elite_287", x=-2204.60400390625, y=-55.0, z=5766.6201171875},
  {name="elite_288", x=-2327.031005859375, y=17.766000747680664, z=5725.77880859375},
  {name="elite_286", x=-2163.577880859375, y=178.64199829101562, z=5729.77099609375},
  {name="elite_312", x=-2032.4454345703125, y=156.3824005126953, z=5830.7734375},
  {name="elite_310", x=-2062.214111328125, y=146.41200256347656, z=5925.83935546875},
  {name="elite_311", x=-2087.154541015625, y=157.8707275390625, z=6014.42041015625},
  {name="elite_309", x=-2168.06396484375, y=-36.763999938964844, z=5936.30908203125},
  {name="elite_308", x=-2280.549072265625, y=-101.31400299072266, z=5994.27880859375},
  {name="elite_290", x=-2525.02490234375, y=196.4239959716797, z=5874.01513671875},
  {name="elite_289", x=-2530.43798828125, y=199.82899475097656, z=5834.5869140625},
  {name="elite_307", x=-2727.423095703125, y=244.64199829101562, z=5959.64794921875},
  {name="elite_306", x=-2903.326904296875, y=207.9040069580078, z=5714.29296875},
  {name="elite_305", x=-2987.743896484375, y=198.85800170898438, z=5498.22900390625},
  {name="elite_304", x=-2957.512939453125, y=252.69500732421875, z=5180.9970703125},
  {name="elite_303", x=-2827.533935546875, y=184.0919952392578, z=5053.3017578125},
  {name="elite_302", x=-2786.361083984375, y=157.8419952392578, z=5119.1201171875},
  {name="elite_301", x=-2713.657958984375, y=170.39100646972656, z=5179.27392578125},
  {name="elite_300", x=-2728.971923828125, y=-26.82900047302246, z=5300.6669921875},
  {name="elite_299", x=-2555.952880859375, y=38.51100158691406, z=5396.5849609375},
  {name="elite_273", x=-2452.39794921875, y=-25.260000228881836, z=5379.40380859375},
  {name="elite_274", x=-2353.14990234375, y=-33.67399978637695, z=5380.0732421875},
  {name="elite_318", x=-2214.197998046875, y=-3.311000108718872, z=5257.27392578125},
  {name="elite_322", x=-2097.73388671875, y=-32.82899856567383, z=5433.2451171875},
  {name="elite_313", x=-1882.898681640625, y=49.35486602783203, z=5531.66357421875},
  {name="elite_284", x=-2006.656982421875, y=151.7169952392578, z=5647.23583984375},
  {name="elite_314", x=-1681.0953369140625, y=133.26486206054688, z=5574.6474609375},
  {name="elite_315", x=-1905.89404296875, y=126.86799621582031, z=5320.94384765625},
  {name="elite_316", x=-1794.6390380859375, y=132.6439971923828, z=5212.451171875},
  {name="elite_317", x=-2080.01806640625, y=148.17999267578125, z=5162.56103515625},
  {name="elite_296", x=-2513.673095703125, y=-11.493000030517578, z=5561.826171875},
  {name="elite_294", x=-2619.075927734375, y=21.492000579833984, z=5619.64306640625},
  {name="elite_292", x=-2627.1298828125, y=-8.713000297546387, z=5710.537109375},
  {name="elite_295", x=-2668.949951171875, y=-73.71800231933594, z=5684.009765625},
  {name="elite_293", x=-2618.152099609375, y=-82.83799743652344, z=5667.23779296875},
  {name="elite_291", x=-2664.55810546875, y=-67.64600372314453, z=5814.05810546875},
  {name="elite_278", x=-2380.783935546875, y=-266.01800537109375, z=5573.0810546875},
  {name="elite_297", x=-2629.001953125, y=180.83099365234375, z=5463.06103515625},
  {name="elite_298", x=-2665.64208984375, y=178.1529998779297, z=5438.9951171875},
  {name="elite_359", x=-2853.757080078125, y=297.47198486328125, z=4717.47802734375},
  {name="elite_357", x=-2810.0419921875, y=165.7169952392578, z=4407.85888671875},
  {name="elite_358", x=-2754.698974609375, y=345.9530029296875, z=4172.52197265625},
  {name="elite_354", x=-2353.97607421875, y=76.14199829101562, z=4243.23876953125},
  {name="elite_353", x=-2320.962890625, y=76.36000061035156, z=4267.7978515625},
  {name="elite_355", x=-2408.85595703125, y=55.22600173950195, z=4410.39501953125},
  {name="elite_356", x=-2286.0830078125, y=62.483001708984375, z=4450.19677734375},
  {name="elite_360", x=-3184.958984375, y=184.9530029296875, z=4661.033203125},
  {name="elite_361", x=-3289.049072265625, y=215.45799255371094, z=4624.28515625},
  {name="elite_362", x=-3388.3720703125, y=163.42999267578125, z=4596.92822265625},
  {name="elite_363", x=-3253.01708984375, y=327.7669982910156, z=4762.05615234375},
  {name="elite_347", x=-1095.1278076171875, y=56.63298034667969, z=5499.1787109375},
  {name="elite_348", x=-872.9639892578125, y=-31.811613082885742, z=5899.90478515625},
  {name="elite_349", x=-760.4497680664062, y=-279.7528991699219, z=6012.98779296875},
  {name="elite_351", x=-1105.4720458984375, y=265.9100036621094, z=3934.326904296875},
  {name="elite_352", x=-1051.029052734375, y=234.38900756835938, z=3812.263916015625},
  {name="elite_466", x=2481.865478515625, y=480.6916809082031, z=4965.1201171875},
  {name="elite_465", x=2622.50830078125, y=487.620361328125, z=4998.7568359375},
  {name="elite_464", x=2654.9111328125, y=494.3881530761719, z=4925.28125},
  {name="elite_467", x=2780.86669921875, y=541.1358032226562, z=5040.36328125},
  {name="elite_468", x=2953.7236328125, y=534.6355590820312, z=5084.986328125},
  {name="elite_469", x=3016.893798828125, y=512.64599609375, z=5082.5849609375},
  {name="elite_470", x=3000.554931640625, y=500.7001647949219, z=4970.59033203125},
  {name="elite_471", x=3147.41357421875, y=459.129150390625, z=5085.05419921875},
  {name="elite_472", x=3121.014892578125, y=480.1258850097656, z=5168.34912109375},
  {name="elite_463", x=2644.2158203125, y=250.85569763183594, z=4801.18310546875},
  {name="elite_455", x=2732.240966796875, y=243.55799865722656, z=313.6929931640625},
  {name="elite_454", x=2685.27197265625, y=232.72500610351562, z=183.3350067138672},
  {name="elite_453", x=2540.074951171875, y=211.17300415039062, z=1.815999984741211},
  {name="elite_452", x=2203.616943359375, y=282.6090087890625, z=-203.37100219726562},
  {name="elite_456", x=2675.958984375, y=288.2090148925781, z=-399.3420104980469},
  {name="elite_451", x=1884.208984375, y=240.37100219726562, z=-797.0709838867188},
  {name="elite_450", x=1510.18603515625, y=269.9549865722656, z=-691.5960083007812},
  {name="elite_449", x=1473.251953125, y=271.6180114746094, z=-722.7470092773438},
  {name="elite_461", x=2239.258056640625, y=247.1199951171875, z=-1581.6070556640625},
  {name="elite_460", x=2348.751953125, y=286.8710021972656, z=-1730.708984375},
  {name="elite_457", x=2731.513916015625, y=289.41900634765625, z=-1575.3509521484375},
  {name="elite_458", x=2852.8740234375, y=257.1449890136719, z=-1738.031982421875},
  {name="elite_459", x=2915.8369140625, y=227.1929931640625, z=-1736.39404296875},
  {name="elite_462", x=2573.0849609375, y=197.593994140625, z=-2318.708984375},
  {name="elite_420", x=-2195.77392578125, y=187.1320037841797, z=-4346.56103515625},
  {name="elite_419", x=-2231.5458984375, y=191.21499633789062, z=-4316.875},
  {name="elite_418", x=-2276.5048828125, y=195.0959930419922, z=-4309.98388671875},
  {name="elite_417", x=-2324.133056640625, y=231.92999267578125, z=-4306.93212890625},
  {name="elite_421", x=-2291.10107421875, y=228.14599609375, z=-4248.25},
  {name="elite_422", x=-2320.955078125, y=243.3000030517578, z=-4184.294921875},
  {name="elite_416", x=-2428.576904296875, y=251.43499755859375, z=-4287.73779296875},
  {name="elite_415", x=-2498.095947265625, y=278.3590087890625, z=-4279.6162109375},
  {name="elite_414", x=-2543.468994140625, y=258.739990234375, z=-4289.72314453125},
  {name="elite_413", x=-2592.553955078125, y=257.0899963378906, z=-4353.6640625},
  {name="elite_412", x=-2626.990966796875, y=258.2669982910156, z=-4387.59521484375},
  {name="elite_410", x=-2691.281982421875, y=238.77699279785156, z=-4327.0498046875},
  {name="elite_411", x=-2723.26904296875, y=261.4169921875, z=-4396.01513671875},
  {name="elite_424", x=-2682.386962890625, y=249.5449981689453, z=-4490.43115234375},
  {name="elite_409", x=-2864.22802734375, y=203.2740020751953, z=-4275.85986328125},
  {name="elite_423", x=-2357.0048828125, y=238.2270050048828, z=-4465.90478515625},
  {name="elite_406", x=-3156.617919921875, y=203.98599243164062, z=-3531.239990234375},
  {name="elite_407", x=-3111.24609375, y=203.2259979248047, z=-3459.47998046875},
  {name="elite_408", x=-2943.137939453125, y=203.00799560546875, z=-3307.672119140625},
  {name="elite_403", x=-3519.5380859375, y=206.35400390625, z=-3193.30810546875},
  {name="elite_398", x=-3666.948974609375, y=208.8679962158203, z=-3188.784912109375},
  {name="elite_397", x=-3693.71240234375, y=203.98715209960938, z=-3233.138427734375},
  {name="elite_396", x=-3787.08203125, y=208.6009979248047, z=-3183.05810546875},
  {name="elite_395", x=-3856.58984375, y=202.00213623046875, z=-3129.287109375},
  {name="elite_393", x=-3912.220947265625, y=204.7010040283203, z=-3098.472900390625},
  {name="elite_394", x=-3926.4619140625, y=282.302001953125, z=-3147.416015625},
  {name="elite_391", x=-3859.4150390625, y=209.6219940185547, z=-2985.636962890625},
  {name="elite_390", x=-3828.68798828125, y=204.13299560546875, z=-2951.885986328125},
  {name="elite_389", x=-3867.761962890625, y=203.2270050048828, z=-2898.20703125},
  {name="elite_392", x=-3945.236083984375, y=206.27499389648438, z=-2964.077880859375},
  {name="elite_399", x=-3661.214111328125, y=234.47500610351562, z=-3080.5791015625},
  {name="elite_400", x=-3549.93896484375, y=203.0, z=-2962.260009765625},
  {name="elite_401", x=-3467.27001953125, y=203.0, z=-3002.636962890625},
  {name="elite_402", x=-3628.62109375, y=203.23800659179688, z=-2898.62890625},
  {name="elite_388", x=-3839.909912109375, y=203.48800659179688, z=-2641.839111328125},
  {name="elite_387", x=-3919.906005859375, y=203.0, z=-2549.2099609375},
  {name="elite_386", x=-3825.0048828125, y=252.7760009765625, z=-2344.636962890625},
  {name="elite_385", x=-3887.447998046875, y=230.86700439453125, z=-2287.25390625},
  {name="elite_384", x=-3663.888916015625, y=225.27000427246094, z=-2009.751953125},
  {name="elite_383", x=-3749.908935546875, y=204.03799438476562, z=-1829.5780029296875},
  {name="elite_379", x=-3781.5869140625, y=204.48300170898438, z=-1336.7359619140625},
  {name="elite_376", x=-3592.074951171875, y=203.0749969482422, z=-1204.5360107421875},
  {name="elite_377", x=-3557.31201171875, y=210.6020050048828, z=-1183.7010498046875},
  {name="elite_378", x=-3497.678955078125, y=203.1009979248047, z=-1116.6219482421875},
  {name="elite_375", x=-3647.929931640625, y=203.38600158691406, z=-1113.7989501953125},
  {name="elite_374", x=-3651.028076171875, y=203.2259979248047, z=-1011.5919799804688},
  {name="elite_373", x=-3643.193115234375, y=124.11499786376953, z=-938.85400390625},
  {name="elite_371", x=-3531.306884765625, y=205.54200744628906, z=-796.60302734375},
  {name="elite_372", x=-3476.6630859375, y=204.47900390625, z=-798.947021484375},
  {name="elite_370", x=-3552.138916015625, y=206.60000610351562, z=-683.6719970703125},
  {name="elite_368", x=-3589.2451171875, y=204.98599243164062, z=-555.5460205078125},
  {name="elite_369", x=-3580.12890625, y=203.59300231933594, z=-498.1679992675781},
  {name="elite_364", x=-3712.383056640625, y=203.08399963378906, z=-341.760986328125},
  {name="elite_365", x=-3805.802978515625, y=206.52000427246094, z=-464.92498779296875},
  {name="elite_366", x=-3992.090087890625, y=203.0, z=-439.2309875488281},
  {name="elite_367", x=-3725.31494140625, y=123.98899841308594, z=-662.2420043945312},
  {name="elite_382", x=-4091.02587890625, y=203.2740020751953, z=-1093.2099609375},
  {name="elite_381", x=-4060.5859375, y=204.04100036621094, z=-1218.260986328125},
  {name="elite_380", x=-4009.860107421875, y=204.8780059814453, z=-1279.6180419921875},
  {name="elite_443", x=-4775.5361328125, y=209.01400756835938, z=-2530.39501953125},
  {name="elite_437", x=-4398.7978515625, y=203.6540069580078, z=-3657.929931640625},
  {name="elite_438", x=-4347.22607421875, y=204.81700134277344, z=-3701.195068359375},
  {name="elite_439", x=-4318.330078125, y=203.2310028076172, z=-3782.173095703125},
  {name="elite_440", x=-4280.5908203125, y=203.4199981689453, z=-3793.701904296875},
  {name="elite_441", x=-4344.89501953125, y=204.65499877929688, z=-3913.738037109375},
  {name="elite_442", x=-4285.69580078125, y=203.4510040283203, z=-3943.656005859375},
  {name="elite_426", x=-4317.73583984375, y=203.14500427246094, z=-4078.987060546875},
  {name="elite_425", x=-4231.501953125, y=203.39199829101562, z=-4096.201171875},
  {name="elite_427", x=-4412.88818359375, y=203.5850067138672, z=-4144.56005859375},
  {name="elite_428", x=-4479.4580078125, y=203.93600463867188, z=-4192.7587890625},
  {name="elite_429", x=-4649.23291015625, y=187.61500549316406, z=-4249.244140625},
  {name="elite_430", x=-4687.77587890625, y=167.33299255371094, z=-4265.61376953125},
  {name="elite_431", x=-4746.42919921875, y=203.06399536132812, z=-4263.9521484375},
  {name="elite_432", x=-4666.84521484375, y=204.53900146484375, z=-4323.36376953125},
  {name="elite_433", x=-4672.19921875, y=203.31100463867188, z=-4186.4072265625},
  {name="elite_434", x=-4753.48486328125, y=209.58999633789062, z=-4100.89794921875},
  {name="elite_435", x=-4466.7060546875, y=229.718994140625, z=-3844.487060546875},
  {name="elite_436", x=-4468.259765625, y=203.72500610351562, z=-3759.462890625},
  {name="elite_405", x=-3583.64599609375, y=203.10800170898438, z=-3637.280029296875},
  {name="elite_404", x=-3566.047119140625, y=203.2760009765625, z=-3487.593017578125},
  {name="elite_444", x=-6026.330078125, y=203.9969940185547, z=-3204.01611328125},
  {name="elite_445", x=-6312.296875, y=203.66000366210938, z=-2414.387939453125},
  {name="elite_446", x=-6243.451171875, y=203.21600341796875, z=-2390.839111328125},
  {name="elite_447", x=-6609.81298828125, y=203.4499969482422, z=-2581.51904296875},
  {name="elite_448", x=-6743.5458984375, y=207.36700439453125, z=-2695.430908203125},
}

-- читаем индекс из файла
local function read_idx()
  local f = io.open(PATH, "r")
  if f then
    local s = f:read("*l")
    f:close()
    local n = tonumber(s)
    if n and n >= 1 and n <= #W then return n end
  end
  return 1
end

-- пишем индекс в файл
local function write_idx(n)
  local okw, err = pcall(function()
    local f = io.open(PATH, "w")
    if f then f:write(tostring(n)); f:close() end
  end)
  if not okw then
    show("Ошибка записи: " .. tostring(err))
  end
end

-- основной шаг
local idx = read_idx()
local wp  = W[idx]

-- тп
local pos = Vector3(wp.x, wp.y, wp.z)
CS.MoleMole.ActorUtils.SetAvatarPos(pos)
show(string.format("TP %d/%d: %s  (X:%.2f Y:%.2f Z:%.2f)  [next-> %d]",
  idx, #W, wp.name, wp.x, wp.y, wp.z, (idx % #W) + 1))

-- следующий индекс (циклично) и сохранение
idx = idx + 1
if idx > #W then idx = 1 end
write_idx(idx)
